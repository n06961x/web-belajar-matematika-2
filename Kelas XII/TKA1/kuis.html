<!DOCTYPE html>
<html lang="id">
     <head>
          <meta charset="UTF-8" />
          <meta
               name="viewport"
               content="width=device-width, initial-scale=1.0"
          />
          <title>Kuis Eksponen Matematika</title>
          <link
               rel="stylesheet"
               href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          />
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
          <script
               id="MathJax-script"
               async
               src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
          ></script>
          <style>
               * {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
               }

               body {
                    background: linear-gradient(135deg, #1a2980, #26d0ce);
                    min-height: 100vh;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    padding: 20px;
                    color: #333;
               }

               .container {
                    max-width: 800px;
                    width: 100%;
                    background: rgba(255, 255, 255, 0.95);
                    border-radius: 20px;
                    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
                    overflow: hidden;
                    position: relative;
               }

               header {
                    background: linear-gradient(90deg, #2c3e50, #4a6491);
                    color: white;
                    padding: 25px 30px;
                    text-align: center;
                    position: relative;
               }

               header h1 {
                    font-size: 2.5rem;
                    margin-bottom: 10px;
                    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
               }

               header p {
                    font-size: 1.1rem;
                    opacity: 0.9;
                    max-width: 600px;
                    margin: 0 auto;
               }

               .info-bar {
                    display: flex;
                    justify-content: space-between;
                    background: #3498db;
                    color: white;
                    padding: 15px 30px;
                    font-size: 1.1rem;
                    font-weight: 500;
               }

               .progress-container {
                    height: 8px;
                    background: #e0e0e0;
               }

               .progress-bar {
                    height: 100%;
                    background: linear-gradient(90deg, #2ecc71, #27ae60);
                    width: 0%;
                    transition: width 0.5s ease;
               }

               .quiz-container {
                    padding: 30px;
                    min-height: 400px;
               }

               .question-section {
                    margin-bottom: 30px;
               }

               .question-number {
                    font-size: 1.1rem;
                    color: #3498db;
                    font-weight: 600;
                    margin-bottom: 10px;
               }

               .question-text {
                    font-size: 1.4rem;
                    line-height: 1.6;
                    margin-bottom: 25px;
                    color: #2c3e50;
               }

               .options-container {
                    display: grid;
                    grid-template-columns: 1fr;
                    gap: 15px;
               }

               .option {
                    background: #f8f9fa;
                    border: 2px solid #e0e0e0;
                    border-radius: 12px;
                    padding: 15px 20px;
                    font-size: 1.1rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
               }

               .option:hover {
                    background: #e3f2fd;
                    border-color: #3498db;
                    transform: translateY(-3px);
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
               }

               .option.selected {
                    background: #d1ecf1;
                    border-color: #3498db;
                    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
               }

               .option.correct {
                    background: #d4edda;
                    border-color: #28a745;
               }

               .option.incorrect {
                    background: #f8d7da;
                    border-color: #dc3545;
               }

               .option-letter {
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    width: 35px;
                    height: 35px;
                    background: #3498db;
                    color: white;
                    border-radius: 50%;
                    margin-right: 15px;
                    flex-shrink: 0;
                    font-weight: bold;
               }

               .navigation {
                    display: flex;
                    justify-content: space-between;
                    padding: 20px 30px;
                    background: #f8f9fa;
                    border-top: 1px solid #e0e0e0;
               }

               .btn {
                    padding: 12px 25px;
                    font-size: 1.1rem;
                    border: none;
                    border-radius: 50px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    font-weight: 600;
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
               }

               .btn:disabled {
                    opacity: 0.5;
                    cursor: not-allowed;
               }

               .btn-prev {
                    background: #f1f1f1;
                    color: #333;
               }

               .btn-prev:hover:not(:disabled) {
                    background: #e0e0e0;
               }

               .btn-next {
                    background: linear-gradient(90deg, #3498db, #2980b9);
                    color: white;
               }

               .btn-next:hover:not(:disabled) {
                    background: linear-gradient(90deg, #2980b9, #2573a7);
                    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
               }

               .btn-submit {
                    background: linear-gradient(90deg, #2ecc71, #27ae60);
                    color: white;
               }

               .btn-submit:hover:not(:disabled) {
                    background: linear-gradient(90deg, #27ae60, #219653);
                    box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
               }

               .result-container {
                    padding: 40px;
                    text-align: center;
                    display: none;
               }

               .result-container h2 {
                    font-size: 2.2rem;
                    color: #2c3e50;
                    margin-bottom: 20px;
               }

               .score {
                    font-size: 5rem;
                    font-weight: 800;
                    background: linear-gradient(90deg, #3498db, #2ecc71);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    margin: 20px 0;
               }

               .score-message {
                    font-size: 1.3rem;
                    margin-bottom: 30px;
                    color: #555;
               }

               .feedback {
                    background: #f8f9fa;
                    border-radius: 15px;
                    padding: 20px;
                    margin: 30px 0;
                    text-align: left;
               }

               .feedback h3 {
                    color: #3498db;
                    margin-bottom: 15px;
                    text-align: center;
               }

               .feedback-item {
                    margin: 15px 0;
                    padding: 15px;
                    border-radius: 10px;
                    background: white;
                    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
               }

               .feedback-question {
                    font-weight: 600;
                    margin-bottom: 10px;
                    color: #2c3e50;
               }

               .feedback-answer {
                    color: #27ae60;
                    font-weight: 500;
               }

               .feedback-explanation {
                    margin-top: 10px;
                    color: #555;
                    font-size: 0.95rem;
               }

               .btn-restart {
                    background: linear-gradient(90deg, #e74c3c, #c0392b);
                    color: white;
                    padding: 15px 35px;
                    font-size: 1.2rem;
                    margin-top: 20px;
               }

               .btn-restart:hover {
                    background: linear-gradient(90deg, #c0392b, #a93226);
                    box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
               }

               @media (max-width: 600px) {
                    header h1 {
                         font-size: 2rem;
                    }

                    .question-text {
                         font-size: 1.2rem;
                    }

                    .option {
                         padding: 12px 15px;
                         font-size: 1rem;
                    }

                    .btn {
                         padding: 10px 20px;
                         font-size: 1rem;
                    }

                    .score {
                         font-size: 4rem;
                    }
               }
          </style>
     </head>
     <body>
          <div class="container">
               <header>
                    <h1>
                         <i class="fas fa-calculator"></i> Kuis Eksponen
                         Matematika
                    </h1>
                    <p>
                         Uji pemahaman Anda tentang konsep dasar dan sifat-sifat
                         eksponen
                    </p>
               </header>

               <div class="info-bar">
                    <div class="timer">
                         <i class="fas fa-clock"></i> Waktu:
                         <span id="timer">10:00</span>
                    </div>
                    <div class="score-display">
                         <i class="fas fa-star"></i> Skor:
                         <span id="current-score">0</span>
                    </div>
               </div>

               <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
               </div>

               <div class="quiz-container" id="quiz-container">
                    <!-- Konten kuis akan diisi oleh JavaScript -->
               </div>

               <div class="navigation">
                    <button class="btn btn-prev" id="prev-btn" disabled>
                         <i class="fas fa-arrow-left"></i> Sebelumnya
                    </button>
                    <button class="btn btn-next" id="next-btn">
                         Berikutnya <i class="fas fa-arrow-right"></i>
                    </button>
               </div>

               <div class="result-container" id="result-container">
                    <h2><i class="fas fa-medal"></i> Hasil Kuis</h2>
                    <div class="score" id="final-score">0</div>
                    <div class="score-message" id="score-message"></div>

                    <div class="feedback" id="feedback">
                         <h3>Detail Jawaban</h3>
                         <!-- Feedback akan diisi oleh JavaScript -->
                    </div>

                    <button class="btn btn-restart" id="restart-btn">
                         <i class="fas fa-redo"></i> Kerjakan Lagi
                    </button>
               </div>
          </div>

          <script>
               // Konfigurasi MathJax
               MathJax = {
                    tex: {
                         inlineMath: [['\\(', '\\)']],
                         displayMath: [['\\[', '\\]']],
                         processEscapes: true,
                         packages: { '[+]': ['ams'] },
                    },
                    options: {
                         ignoreHtmlClass: 'tex2jax_ignore',
                         processHtmlClass: 'tex2jax_process',
                    },
                    startup: {
                         ready: () => {
                              MathJax.startup.defaultReady();
                              // Mulai aplikasi setelah MathJax siap
                              initializeQuiz();
                         },
                    },
               };

               // Data kuis dalam bentuk array of objects
               const quizData = [
                    {
                         question: 'Nilai dari \\(5^{-2}\\) adalah...',
                         options: [
                              '0.04',
                              '0.25',
                              '\\(\\dfrac{1}{25}\\)',
                              '-25',
                              '25',
                         ],
                         answer: 2,
                         explanation:
                              'Untuk pangkat negatif: \\(a^{-n} = \\dfrac{1}{a^n}\\). Jadi \\(5^{-2} = \\dfrac{1}{...} = \\dfrac{1}{...}\\)',
                    },
                    {
                         question:
                              'Bentuk sederhana dari \\(7^0 \\times 2^3 \\times 3^{-1}\\) adalah...',
                         options: [
                              '0',
                              '\\(\\dfrac{8}{3}\\)',
                              '\\(\\dfrac{1}{24}\\)',
                              '24',
                              '\\(\\dfrac{3}{8}\\)',
                         ],
                         answer: 1,
                         explanation:
                              '\\(7^0 = 1\\), \\(2^3 = 8\\), \\(3^{-1} = \\dfrac{1}{3}\\). Jadi \\(1 \\times 8 \\times \\dfrac{...}{...} = \\dfrac{...}{...}\\)',
                    },
                    {
                         question:
                              'Jika \\(2^x = 8\\), maka nilai \\(x\\) adalah...',
                         options: ['2', '3', '4', '5', '6'],
                         answer: 1,
                         explanation:
                              '\\(8 = 2^3\\), sehingga \\(2^x = 2^...\\) dan \\(x = ...\\)',
                    },
                    {
                         question:
                              'Bentuk sederhana dari \\(\\left( \\dfrac{x^2 y^{-3}}{x^{-1} y^2} \\right)^3\\) adalah...',
                         options: [
                              '\\(\\dfrac{x^{9}}{y^{15}}\\)',
                              '\\(\\dfrac{x^{3}}{y^{5}}\\)',
                              '\\(x^{9} y^{15}\\)',
                              '\\(x^{3} y^{5}\\)',
                              '\\(\\dfrac{y^{15}}{x^{9}}\\)',
                         ],
                         answer: 0,
                         explanation:
                              'Sederhanakan ekspresi dalam kurung: \\(\\dfrac{x^2}{x^{-1}} = x^{3}\\), \\(\\dfrac{y^{-3}}{y^{2}} = y^{-5}\\). Jadi \\((x^3 y^{-5})^3 = x^{...} y^{...} = \\dfrac{x^{...}}{y^{...}}\\)',
                    },
                    {
                         question:
                              'Jika \\(a^2 = 4\\) dan \\(b^3 = 27\\), maka nilai dari \\((a \\cdot b)^6\\) adalah...',
                         options: ['144', '46656', '20736', '1728', '1296'],
                         answer: 1,
                         explanation:
                              '\\(a = 2\\) (karena \\(2^2 = 4\\)), \\(b = 3\\) (karena \\(3^3 = 27\\)). Jadi \\((2 \\cdot 3)^... = 6^... = ...\\)',
                    },
                    {
                         question:
                              'Nilai dari \\(\\dfrac{2^5 \\times 3^2 \\times 2^{-2}}{3}\\) adalah...',
                         options: ['12', '18', '24', '36', '48'],
                         answer: 2,
                         explanation:
                              '\\(\\dfrac{2^{5-2} \\times 3^{2}}{3^1} = 2^3 \\times 3^{2-1} = 8 \\times ... = ...\\)',
                    },
                    {
                         question:
                              'Jika \\(3^{2x-1} = 27\\), maka nilai \\(x\\) adalah...',
                         options: ['1', '1.5', '2', '2.5', '3'],
                         answer: 2,
                         explanation:
                              '\\(27 = 3^3\\), sehingga \\(3^{2x-1} = 3^3\\). Maka \\(2x - 1 = 3\\), sehingga \\(2x = ......\\) dan \\(x = ...\\)',
                    },
                    {
                         question:
                              'Bentuk sederhana dari \\(\\left( \\dfrac{1}{3^{-4}} \\right)\\) adalah...',
                         options: [
                              '\\(\\dfrac{1}{81}\\)',
                              '\\(\\dfrac{1}{12}\\)',
                              '81',
                              '12',
                              '\\(3^{-4}\\)',
                         ],
                         answer: 2,
                         explanation:
                              '\\(\\dfrac{1}{a^{-n}} = a^n\\), sehingga \\(\\dfrac{1}{3^{-4}} = 3^{...} = ...\\)',
                    },
                    {
                         question:
                              'Bentuk sederhana dari \\(\\left( \\dfrac{a^3 b^{-2}}{a^{-2} b^4} \\right)^2\\) adalah...',
                         options: [
                              '\\(\\dfrac{a^{10}}{b^{12}}\\)',
                              '\\(\\dfrac{a^{5}}{b^{6}}\\)',
                              '\\(a^{10} b^{12}\\)',
                              '\\(a^{5} b^{6}\\)',
                              '\\(\\dfrac{b^{12}}{a^{10}}\\)',
                         ],
                         answer: 0,
                         explanation:
                              'Sederhanakan ekspresi dalam kurung: \\(\\dfrac{a^3}{a^{-2}} = a^{5}\\), \\(\\dfrac{b^{-2}}{b^4} = b^{-6}\\). Jadi \\((a^5 b^{-6})^2 = a^{...} b^{...} = \\dfrac{a^{...}}{b^{...}}\\)',
                    },
                    {
                         question:
                              'Bentuk sederhana dari \\(\\left( \\dfrac{p^{-1} q^4}{p^3 q^{-2}} \\right)^3\\) adalah...',
                         options: [
                              '\\(\\dfrac{q^{18}}{p^{12}}\\)',
                              '\\(\\dfrac{q^{6}}{p^{4}}\\)',
                              '\\(p^{12} q^{18}\\)',
                              '\\(p^{4} q^{6}\\)',
                              '\\(\\dfrac{p^{12}}{q^{18}}\\)',
                         ],
                         answer: 0,
                         explanation:
                              'Sederhanakan ekspresi dalam kurung: \\(\\dfrac{p^{-1}}{p^3} = p^{-4}\\), \\(\\dfrac{q^4}{q^{-2}} = q^{6}\\). Jadi \\((p^{-4} q^{6})^3 = p^{...} q^{...} = \\dfrac{q^{...}}{p^{...}}\\)',
                    },
               ];

               // Variabel aplikasi
               let currentQuestion = 0;
               let score = 0;
               let userAnswers = new Array(quizData.length).fill(null);
               let timeLeft = 600; // 10 menit dalam detik
               let timerInterval;

               // Elemen DOM
               const quizContainer = document.getElementById('quiz-container');
               const resultContainer =
                    document.getElementById('result-container');
               const prevBtn = document.getElementById('prev-btn');
               const nextBtn = document.getElementById('next-btn');
               const progressBar = document.getElementById('progress-bar');
               const timerDisplay = document.getElementById('timer');
               const currentScoreDisplay =
                    document.getElementById('current-score');
               const finalScoreDisplay = document.getElementById('final-score');
               const scoreMessage = document.getElementById('score-message');
               const feedbackContainer = document.getElementById('feedback');
               const restartBtn = document.getElementById('restart-btn');

               // Fungsi untuk memformat waktu (menit:detik)
               function formatTime(seconds) {
                    const minutes = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
               }

               // Fungsi untuk memulai timer
               function startTimer() {
                    timerInterval = setInterval(() => {
                         timeLeft--;
                         timerDisplay.textContent = formatTime(timeLeft);

                         if (timeLeft <= 0) {
                              clearInterval(timerInterval);
                              submitQuiz();
                         }
                    }, 1000);
               }

               // Fungsi untuk menampilkan soal
               function showQuestion() {
                    const question = quizData[currentQuestion];

                    // Update progress bar
                    const progress =
                         ((currentQuestion + 1) / quizData.length) * 100;
                    progressBar.style.width = `${progress}%`;

                    // Tampilkan nomor soal
                    const questionNumber = document.createElement('div');
                    questionNumber.className = 'question-number';
                    questionNumber.textContent = `Soal ${
                         currentQuestion + 1
                    } dari ${quizData.length}`;

                    // Tampilkan pertanyaan
                    const questionText = document.createElement('div');
                    questionText.className = 'question-text';
                    questionText.innerHTML = question.question;

                    // Tampilkan pilihan jawaban
                    const optionsContainer = document.createElement('div');
                    optionsContainer.className = 'options-container';

                    question.options.forEach((option, index) => {
                         const optionElement = document.createElement('div');
                         optionElement.className = 'option';
                         if (userAnswers[currentQuestion] === index) {
                              optionElement.classList.add('selected');
                         }

                         const optionLetter = document.createElement('div');
                         optionLetter.className = 'option-letter';
                         optionLetter.textContent = String.fromCharCode(
                              65 + index
                         ); // A, B, C, ...

                         const optionText = document.createElement('div');
                         optionText.className = 'option-text';
                         optionText.innerHTML = option;

                         optionElement.appendChild(optionLetter);
                         optionElement.appendChild(optionText);

                         optionElement.addEventListener('click', () => {
                              userAnswers[currentQuestion] = index;
                              showQuestion(); // Refresh tampilan
                         });

                         optionsContainer.appendChild(optionElement);
                    });

                    // Bersihkan kontainer dan tambahkan elemen baru
                    quizContainer.innerHTML = '';
                    quizContainer.appendChild(questionNumber);
                    quizContainer.appendChild(questionText);
                    quizContainer.appendChild(optionsContainer);

                    // Update status tombol navigasi
                    prevBtn.disabled = currentQuestion === 0;

                    if (currentQuestion === quizData.length - 1) {
                         nextBtn.innerHTML =
                              'Kirim <i class="fas fa-paper-plane"></i>';
                         nextBtn.classList.add('btn-submit');
                         nextBtn.classList.remove('btn-next');
                    } else {
                         nextBtn.innerHTML =
                              'Berikutnya <i class="fas fa-arrow-right"></i>';
                         nextBtn.classList.add('btn-next');
                         nextBtn.classList.remove('btn-submit');
                    }

                    // Update skor saat ini
                    currentScoreDisplay.textContent = score;

                    // Render ulang MathJax
                    if (window.MathJax) {
                         MathJax.typesetPromise();
                    }
               }

               // Fungsi untuk menampilkan hasil
               function submitQuiz() {
                    clearInterval(timerInterval);

                    // Hitung skor
                    score = 0;
                    quizData.forEach((question, index) => {
                         if (userAnswers[index] === question.answer) {
                              score += 10;
                         }
                    });

                    // Tampilkan skor akhir
                    finalScoreDisplay.textContent = score;

                    // Tampilkan pesan berdasarkan skor
                    if (score >= 80) {
                         scoreMessage.textContent =
                              'Sangat Baik! Pemahaman Anda tentang eksponen sangat baik. Jangan Lupa Screen Shoot Halaman ini untuk di Upload di google Form';
                    } else if (score >= 60) {
                         scoreMessage.textContent =
                              'Bagus! Anda memahami konsep dasar eksponen dengan baik. Jangan Lupa Screen Shoot Halaman ini untuk di Upload di google Form';
                    } else {
                         scoreMessage.textContent =
                              'Perlu belajar lagi. Pelajari kembali konsep dasar eksponen. Jangan Lupa Screen Shoot Halaman ini untuk di Upload di google Form';
                    }

                    // Tampilkan feedback untuk setiap soal
                    feedbackContainer.innerHTML = '<h3>Detail Jawaban</h3>';
                    quizData.forEach((question, index) => {
                         const feedbackItem = document.createElement('div');
                         feedbackItem.className = 'feedback-item';

                         const questionText = document.createElement('div');
                         questionText.className = 'feedback-question';
                         questionText.innerHTML = `Soal ${index + 1}: ${
                              question.question
                         }`;

                         const userAnswer = document.createElement('div');
                         userAnswer.textContent = `Jawaban Anda: ${
                              userAnswers[index] !== null
                                   ? String.fromCharCode(
                                          65 + userAnswers[index]
                                     )
                                   : 'Tidak dijawab'
                         }`;

                         const correctAnswer = document.createElement('div');
                         correctAnswer.className = 'feedback-answer';

                         const explanation = document.createElement('div');
                         explanation.className = 'feedback-explanation';
                         explanation.textContent = `Penjelasan: ${question.explanation}`;

                         // Warna feedback berdasarkan kebenaran jawaban
                         if (userAnswers[index] === question.answer) {
                              feedbackItem.style.borderLeft =
                                   '4px solid #28a745';
                         } else {
                              feedbackItem.style.borderLeft =
                                   '4px solid #dc3545';
                         }

                         feedbackItem.appendChild(questionText);
                         feedbackItem.appendChild(userAnswer);
                         feedbackItem.appendChild(correctAnswer);
                         feedbackItem.appendChild(explanation);
                         feedbackContainer.appendChild(feedbackItem);
                    });

                    // Sembunyikan kuis dan tampilkan hasil
                    document.querySelector('.navigation').style.display =
                         'none';
                    quizContainer.style.display = 'none';
                    resultContainer.style.display = 'block';

                    // Render ulang MathJax untuk feedback
                    if (window.MathJax) {
                         MathJax.typesetPromise();
                    }
               }

               // Fungsi untuk menginisialisasi kuis
               function initializeQuiz() {
                    // Event listener untuk navigasi
                    prevBtn.addEventListener('click', () => {
                         if (currentQuestion > 0) {
                              currentQuestion--;
                              showQuestion();
                         }
                    });

                    nextBtn.addEventListener('click', () => {
                         if (currentQuestion < quizData.length - 1) {
                              currentQuestion++;
                              showQuestion();
                         } else {
                              submitQuiz();
                         }
                    });

                    restartBtn.addEventListener('click', () => {
                         // Reset semua variabel
                         currentQuestion = 0;
                         score = 0;
                         userAnswers = new Array(quizData.length).fill(null);
                         timeLeft = 600;

                         // Reset tampilan
                         document.querySelector('.navigation').style.display =
                              'flex';
                         quizContainer.style.display = 'block';
                         resultContainer.style.display = 'none';

                         // Mulai timer lagi
                         startTimer();

                         // Tampilkan soal pertama
                         showQuestion();
                    });

                    // Mulai aplikasi
                    startTimer();
                    showQuestion();
               }
          </script>
     </body>
</html>
